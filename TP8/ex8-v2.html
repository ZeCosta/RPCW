<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="w3.css">
        <script src="jquery-3.5.1.min.js"></script>
        <script>
            $(function(){
                $.get("http://localhost:7709/paras", function(data){
                    data.forEach(p => {
                        $("#paraList").append("<li><b>"+p.data +"</b>: "+p.para +"</li>");
                    });
                })
                
                $("#botao").click(function(){                
                    $.post("http://localhost:7709/paras", $("#myParaForm").serialize(), function(data){
                        //@TODO VER IF ERROR
                        //alert(data)
                        $("#paraList").append("<li><b>"+data.data +"</b>: "+data.para + "</li>")
                    }).fail(function(response) {
                        alert('Error: ' + response.responseText);
                    });

                    $("#input").val("");
                });
            });
        </script>
    </head>
    
    <body class="w3-light-gray">
        <div class="w3-bar w3-teal">
            <span class="w3-bar-item w3-large">Parágrafos</span>
        </div>
        
        <div id="formulario" class="w3-container w3-center w3-margin-top">
            <form id="myParaForm">
                <fieldset>
                    <legend>Novo parágrafo</legend>
                    <label for="input">Introduza o texto:</label>
                    <input type="text" name="para" id="para">
                    <input type="hidden" name="_id" id="_id">
                    <input type="button" value="Novo parágrafo" id="botao">
                    <input type="button" value="Adicionar Parágrafo" id="botaosub">
                </fieldset>
            </form>
        </div>
        <div>
            <ul id="paraList" class="w3-container w3-ul">
            </ul>
        </div>

        <div class="w3-bar w3-teal">
            <footer>
                <span class="w3-bar-item">Parágrafos</span>    
            </footer>
        </div>
    </body>
</html>

      
      
